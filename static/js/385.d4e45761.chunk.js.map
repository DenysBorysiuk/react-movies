{"version":3,"file":"static/js/385.d4e45761.chunk.js","mappings":"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","sources":["components/MovieInfo/MovieInfo.styled.jsx","components/MovieInfo/MovieInfo.jsx","components/BackLink/BackLink.styled.jsx","components/BackLink/BackLink.jsx","pages/MovieDetails.jsx","services/api.js"],"sourcesContent":["import styled from 'styled-components';\nimport { NavLink } from 'react-router-dom';\n\nexport const Wrapper = styled.div`\n  display: flex;\n  justify-content: center;\n  margin-bottom: 40px;\n  gap: 60px;\n  text-align: left;\n`;\n\nexport const Thumb = styled.div`\n  border-radius: 5px;\n  overflow: hidden;\n  width: 400px;\n  height: 550px;\n`;\n\nexport const InfoWrapper = styled.div`\n  display: flex;\n  flex-direction: column;\n  gap: 10px;\n  width: 500px;\n`;\n\nexport const Link = styled(NavLink)`\n  color: black;\n  font-weight: 500;\n\n  &.active {\n    color: orangered;\n  }\n`;\n\nexport const Score = styled.span`\n  display: inline-block;\n  padding: 2px;\n  color: white;\n  background-color: orangered;\n  border-radius: 5px;\n`;\n","import { Wrapper, Thumb, InfoWrapper, Link, Score } from './MovieInfo.styled';\nimport PropTypes from 'prop-types';\n\nexport const MovieInfo = ({\n  movie: {\n    poster_path,\n    original_title,\n    vote_average,\n    overview,\n    genres,\n    release_date,\n  },\n}) => (\n  <Wrapper>\n    <Thumb>\n      <img\n        src={\n          poster_path\n            ? `https://image.tmdb.org/t/p/w500${poster_path}`\n            : `https://via.placeholder.com/400x550.png?text=${original_title}`\n        }\n        alt={original_title}\n      />\n    </Thumb>\n    <InfoWrapper>\n      <h2>\n        {original_title} ({release_date.slice(0, 4)})\n      </h2>\n      <p>\n        User Score: <Score>{(vote_average * 10).toFixed()}%</Score>\n      </p>\n      <h3>Overview</h3>\n      <p>{overview}</p>\n      <h3>Genres</h3>\n      <p>{genres.map(gener => `${gener.name}, `)}</p>\n      <h3>Additional information</h3>\n      <ul>\n        <li>\n          <Link to=\"cast\">Cast</Link>\n        </li>\n        <li>\n          <Link to=\"reviews\">Reviews</Link>\n        </li>\n      </ul>\n    </InfoWrapper>\n  </Wrapper>\n);\n\nMovieInfo.propTypes = {\n  movie: PropTypes.shape({\n    poster_path: PropTypes.string,\n    original_title: PropTypes.string,\n    vote_average: PropTypes.number,\n    overview: PropTypes.string,\n    genres: PropTypes.array,\n    release_date: PropTypes.string,\n  }),\n};\n","import { Link } from 'react-router-dom';\nimport styled from 'styled-components';\n\nexport const StyledLink = styled(Link)`\n  display: flex;\n  align-items: center;\n  gap: 4px;\n  padding: 8px 0;\n  margin-bottom: 30px;\n  color: black;\n  text-decoration: none;\n  font-weight: 500;\n  text-transform: uppercase;\n\n  :hover {\n    color: orangered;\n  }\n`;\n","import { HiArrowLeft } from 'react-icons/hi';\nimport { StyledLink } from './BackLink.styled';\nimport PropTypes from 'prop-types';\n\nexport const BackLink = ({ to, children }) => {\n  return (\n    <StyledLink to={to}>\n      <HiArrowLeft size=\"24\" />\n      {children}\n    </StyledLink>\n  );\n};\n\nBackLink.propTypes = {\n  to: PropTypes.oneOfType([PropTypes.string, PropTypes.object]),\n  children: PropTypes.node,\n};\n","import { useState, useEffect, useRef, Suspense } from 'react';\nimport { useParams, Outlet, useLocation } from 'react-router-dom';\nimport { getMovieDetails } from 'services/api';\nimport { MovieInfo } from 'components/MovieInfo/MovieInfo';\nimport { BackLink } from 'components/BackLink/BackLink';\nimport toast, { Toaster } from 'react-hot-toast';\n\nconst MovieDetails = () => {\n  const { movieId } = useParams();\n  const [movie, setMovie] = useState(null);\n  const location = useLocation();\n  const ref = useRef(location.state?.from ?? '/');\n\n  useEffect(() => {\n    const controller = new AbortController();\n    const signal = controller.signal;\n    const fetchData = async () => {\n      try {\n        const movieDetails = await getMovieDetails(movieId, signal);\n        setMovie(movieDetails);\n      } catch (error) {\n        if (error.name === 'CanceledError') return;\n        toast.error('Oops, something went wrong');\n      }\n    };\n\n    fetchData();\n\n    return () => {\n      controller.abort();\n    };\n  }, [movieId]);\n\n  return (\n    <main>\n      <Toaster position=\"top-right\" reverseOrder={false} />\n      <BackLink to={ref.current}>Back to products</BackLink>\n      {movie && <MovieInfo movie={movie} />}\n      <Suspense fallback={<div>Loading...</div>}>\n        <Outlet />\n      </Suspense>\n    </main>\n  );\n};\n\nexport default MovieDetails;\n","import axios from 'axios';\n\nconst BASE_URL = 'https://api.themoviedb.org/3';\nconst API_KEY = 'b60c32a6f6f2663f6a35c755ff35b4cc';\n\nexport const getTrendingMovies = async signal => {\n  const response = await axios.get(\n    `${BASE_URL}/trending/movie/day?api_key=${API_KEY}`,\n    {\n      signal,\n    }\n  );\n  return response.data;\n};\n\nexport const getMovieDetails = async (movieId, signal) => {\n  const response = await axios.get(\n    `${BASE_URL}/movie/${movieId}?api_key=${API_KEY}`,\n    {\n      signal,\n    }\n  );\n  return response.data;\n};\n\nexport const searchMovie = async (query, signal) => {\n  const response = await axios.get(\n    `${BASE_URL}/search/movie?api_key=${API_KEY}&query=${query}`,\n    {\n      signal,\n    }\n  );\n  return response.data;\n};\n\nexport const getMovieCredits = async (movieId, signal) => {\n  const response = await axios.get(\n    `${BASE_URL}/movie/${movieId}/credits?api_key=${API_KEY}`,\n    {\n      signal,\n    }\n  );\n  return response.data;\n};\n\nexport const getMovieReviews = async (movieId, signal) => {\n  const response = await axios.get(\n    `${BASE_URL}/movie/${movieId}/reviews?api_key=${API_KEY}`,\n    {\n      signal,\n    }\n  );\n  return response.data;\n};\n"],"names":["Wrapper","styled","Thumb","InfoWrapper","Link","NavLink","Score","MovieInfo","movie","poster_path","original_title","vote_average","overview","genres","release_date","src","alt","slice","toFixed","map","gener","name","to","StyledLink","BackLink","children","size","movieId","useParams","useState","setMovie","location","useLocation","ref","useRef","state","from","useEffect","controller","AbortController","signal","fetchData","getMovieDetails","movieDetails","toast","abort","position","reverseOrder","current","Suspense","fallback","BASE_URL","API_KEY","getTrendingMovies","axios","response","data","searchMovie","query","getMovieCredits","getMovieReviews"],"sourceRoot":""}